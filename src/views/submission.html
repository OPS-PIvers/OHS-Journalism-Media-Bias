<!-- Submission View -->
<div class="max-w-xl mx-auto">
  <header class="mb-6">
    <h2 class="text-2xl font-bold text-white mb-1">New Media Analysis</h2>
    <p class="text-sm text-gray-400">Evaluate source credibility and bias coordinates.</p>
  </header>

  <form id="submissionForm" onsubmit="submitSubmissionForm(event)" class="space-y-6">
    
    <!-- Source Info -->
    <div class="glass-panel p-6 rounded-xl space-y-4">
      <h3 class="text-lg font-bold border-b border-gray-700 pb-2 mb-4">Target Source</h3>
      
      <div>
        <label class="block text-sm text-gray-400 mb-1">Article URL</label>
        <input type="url" id="url" required class="w-full bg-gray-900 border border-gray-700 rounded-lg p-3 text-white focus:border-blue-500 focus:outline-none" placeholder="https://...">
      </div>
      
      <div class="grid grid-cols-2 gap-4">
        <div>
          <label class="block text-sm text-gray-400 mb-1">Source Name</label>
          <input type="text" id="sourceName" required class="w-full bg-gray-900 border border-gray-700 rounded-lg p-3 text-white focus:border-blue-500 focus:outline-none" placeholder="e.g. CNN, Fox">
        </div>
        <div>
          <label class="block text-sm text-gray-400 mb-1">Author</label>
          <input type="text" id="author" required class="w-full bg-gray-900 border border-gray-700 rounded-lg p-3 text-white focus:border-blue-500 focus:outline-none" placeholder="Journalist Name">
        </div>
      </div>
    </div>

    <!-- Analysis -->
    <div class="glass-panel p-6 rounded-xl space-y-6">
      <h3 class="text-lg font-bold border-b border-gray-700 pb-2 mb-4">Vector Analysis</h3>
      
      <p class="text-[10px] text-gray-500 mb-4 tracking-wide uppercase font-bold text-center">Click to plot position</p>

      <div class="flex justify-center">
        <div id="submissionChart" class="coordinate-plane w-full max-w-sm aspect-square rounded-xl relative group">
          <div class="coordinate-grid"></div>
          <div class="axis-center-h"></div>
          <div class="axis-center-v"></div>
          
          <div class="axis-label top-2 left-1/2 -translate-x-1/2">Reliable</div>
          <div class="axis-label bottom-2 left-1/2 -translate-x-1/2">Fabricated</div>
          <div class="axis-label left-2 top-1/2 -translate-y-1/2 -rotate-90">Left</div>
          <div class="axis-label right-2 top-1/2 -translate-y-1/2 rotate-90">Right</div>
        </div>
      </div>

      <input type="hidden" id="biasInput" value="0">
      <input type="hidden" id="reliabilityInput" value="32">
      
      <div class="flex justify-between font-mono text-[10px] text-blue-400 bg-black/20 p-2 rounded border border-white/5">
        <span>PLOT: X <span id="displayX">0</span></span>
        <span>Y <span id="displayY">32</span></span>
      </div>
      
      <div>
        <label class="block text-sm text-gray-400 mb-1">Evidence / Notes</label>
        <textarea id="evidence" rows="4" class="w-full bg-gray-900 border border-gray-700 rounded-lg p-3 text-white focus:border-blue-500 focus:outline-none" placeholder="Cite specific language or rhetorical devices used..."></textarea>
      </div>

      <!-- Image Upload -->
      <div class="pt-4 border-t border-gray-800">
        <label class="block text-sm text-gray-400 mb-2 uppercase font-bold tracking-widest text-[10px]">Visual Evidence (Logo / Screenshot)</label>
        <div class="flex items-center gap-4">
          <button type="button" onclick="document.getElementById('imageInput').click()" class="bg-gray-800 hover:bg-gray-700 text-gray-300 px-4 py-2 rounded-lg border border-gray-700 flex items-center gap-2 transition-colors">
            <span class="material-symbols-outlined text-sm">upload_file</span>
            Select Image
          </button>
          <span id="fileName" class="text-xs text-gray-500 italic">No file chosen</span>
          <input type="file" id="imageInput" class="hidden" accept="image/*" onchange="document.getElementById('fileName').innerText = this.files[0].name">
        </div>
      </div>
    </div>

    <button type="submit" id="submitBtn" class="w-full bg-blue-600 hover:bg-blue-500 text-white font-bold py-4 rounded-xl shadow-lg shadow-blue-900/20 transition-all transform active:scale-95">
      TRANSMIT REPORT
    </button>

  </form>
</div>

<script>
  initInteractiveChart('submissionChart', function(x, y) {
    document.getElementById('biasInput').value = x;
    document.getElementById('reliabilityInput').value = y;
    document.getElementById('displayX').innerText = x;
    document.getElementById('displayY').innerText = y;
  });
</script>